{% extends 'base.html' %}
{% block title %}
Add News
{% endblock %}

{% block content %}

{% if user.is_authenticated %}
<center>
    <br>
    <div class="shadow-lg p-4 mb-auto bg-body" 
                style='
                    width: 600px;  
                    margin-top:50px; 
                    height:px;
                    {% comment %} border: 1px solid ; {% endcomment %}
                    border-radius:2rem;
                    '>
    <br>
    <h1 style="font-weight:bold;">Add NEWS</h1>
    <br>
<!--POST and GET in django-->

<!--POST-->
<!--Django's home form is returned using the POST method, -->
<!--in which the browser bundles up the form data, encodes it for transmission, -->
<!--sends it to the server, and then receives back its response. -->

<!--GET , by contrast, bundles the submitted data into a string, and uses this to compose a URL.-->
<div class="form-group" style="background:#ffd381; border-radius:2rem; padding:0.5rem;">
<form method="POST">
    {% csrf_token %}
    {% comment %} <div class="container mt-4">
    {{ form.as_p }}
    <button class="btn btn-primary">Post NEWS</button>
    </div> {% endcomment %}
    <div class="container mt-4">
        <p>
        <label for="id_title">Title</label>
        <input type="text" name="title" class="form-control" style="width:90%; border-radius:2rem;" placeholder="Title of the News" maxlength="200" required="" id="id_title">
        
        
      </p>
    
      
      <p>
        <label for="id_content">Content</label>
        <textarea name="content" cols="40" rows="10" class="form-control" style="width:90%; border-radius:1rem;" placeholder="Write the Content Here." required="" id="id_content"></textarea>
        
        
      </p>
    
      
      <p>
        <label for="id_status">Status</label>
        <select name="status" class="form-control" style="width:90%; border-radius:2rem;" id="id_status">
      <option value="0">Draft</option>
    
      <option value="1" selected="">Publish</option>
    
    </select>
        
        
          <input type="hidden" name="author" class="form-control" value="1" id="id_num">
        
      </p>

        <br>
        <button class="btn btn-warning" style="border: 3px #000000 solid; border-radius:2rem; background:#fff">Post NEWS</button>
        </div>
    </form>
    <br>

    </div>
</center>
    <br>
    <br>
<script>
    var name = "{{ user.id }}";
    document.getElementById('id_num').value = name;
</script>
<!-- The above line is the javascript code. What it do is check the author.id with user.id-->
{% else %}
    You are not allowed :)
{% endif %}
{% endblock %}